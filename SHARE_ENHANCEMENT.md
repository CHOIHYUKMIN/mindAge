# κ³µμ  κΈ°λ¥ κ°μ„  - μΉ΄λ“ν• κ²°κ³Ό κ³µμ  π΄

## λ³€κ²½ μ‚¬ν•­ β…

κ³µμ  μ‹μ¤ν…μ„ κ°μ„ ν•μ—¬ κ³µμ λ°›μ€ μ‚¬λμ΄ μΉκµ¬μ κ²°κ³Όλ¥Ό μΉ΄λ“ ν•νƒλ΅ λ³Ό μ μλ„λ΅ κµ¬ν„ν–μµλ‹λ‹¤.

### 1. URL νλΌλ―Έν„°λ¥Ό ν†µν• κ²°κ³Ό κ³µμ 

#### Before (κ°μ„  μ „)
```
κ³µμ  λ§ν¬: https://example.com/
- λ‹¨μν λ©”μΈ νμ΄μ§€λ΅λ§ μ΄λ™
- κ³µμ ν• μ‚¬λμ κ²°κ³Όλ¥Ό λ³Ό μ μ—†μ
- "λ‚λ„ ν…μ¤νΈν•κΈ°" λ²„νΌλ§ μμ
```

#### After (κ°μ„  ν›„)
```
κ³µμ  λ§ν¬: https://example.com/?shared=true&pa=28&ma=25&diff=-3
- μΉκµ¬μ κ²°κ³Όλ¥Ό λ¨Όμ € λ³΄μ—¬μ¤
- μΉ΄λ“ ν•νƒλ΅ κΉ”λ”ν•κ² ν‘μ‹
- "κ²°κ³Ό λ³΄κΈ°" + "λ‚λ„ ν…μ¤νΈν•κΈ°" 2κ° λ²„νΌ
```

### 2. μ£Όμ” νμΌ λ³€κ²½μ‚¬ν•­

#### `js/share.js`
**URL νλΌλ―Έν„° μ¶”κ°€**
```javascript
// κ³µμ  URLμ— κ²°κ³Ό λ°μ΄ν„° ν¬ν•¨
const shareParams = new URLSearchParams({
    shared: 'true',
    pa: physicalAge,    // Physical Age (μ‹¤λ¬Ό λ‚μ΄)
    ma: mentalAge,      // Mental Age (λ§μμ λ‚μ΄)
    diff: diff          // μ°¨μ΄κ°’
});
const shareUrl = `${baseUrl}?${shareParams.toString()}`;
```

**μΉ΄μΉ΄μ¤ν†΅ κ³µμ  λ²„νΌ κ°μ„ **
```javascript
buttons: [
    {
        title: 'κ²°κ³Ό λ³΄κΈ° π‘€',       // κ³µμ λ κ²°κ³Ό ν™•μΈ
        link: { webUrl: shareUrl }
    },
    {
        title: 'λ‚λ„ ν…μ¤νΈν•κΈ° π',  // μƒλ΅μ΄ ν…μ¤νΈ μ‹μ‘
        link: { webUrl: baseUrl }
    }
]
```

#### `index.html`
**κ³µμ  κ²°κ³Ό μ„Ήμ… μ¶”κ°€**
```html
<section id="shared-section" class="section">
    <div class="shared-content">
        <h2 class="shared-title">μΉκµ¬μ ν…μ¤νΈ κ²°κ³Ό π“</h2>
        
        <div class="shared-card">
            <!-- λ‚μ΄ μ›ν• λΉ„κµ -->
            <div class="age-comparison">
                <div class="age-circle">μ‹¤λ¬Ό λ‚μ΄</div>
                <div class="vs-badge">VS</div>
                <div class="age-circle">λ§μμ λ‚μ΄</div>
            </div>
            
            <!-- μ°¨μ΄κ°’ ν‘μ‹ -->
            <div class="age-difference">+/-Xμ„Έ</div>
            
            <!-- κ²°κ³Ό λ©”μ‹μ§€ -->
            <div class="shared-message">
                μΉκµ¬λ” XXXν• μ„±ν–¥μ„ κ°€μ§€κ³  μμ–΄μ”!
            </div>
        </div>
        
        <button onclick="app.goToStart()">
            λ‚λ„ ν…μ¤νΈν•κΈ° π
        </button>
    </div>
</section>
```

#### `js/app.js`
**URL νλΌλ―Έν„° κ°μ§€ λ° μ²λ¦¬**
```javascript
init() {
    // URL νλΌλ―Έν„° ν™•μΈ
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('shared') === 'true') {
        this.showSharedResult(urlParams);  // κ³µμ  κ²°κ³Ό ν‘μ‹
        return;
    }
    
    // μΌλ° μ‹μ‘ flow
    this.showSection('start');
}

showSharedResult(urlParams) {
    const physicalAge = parseInt(urlParams.get('pa'));
    const mentalAge = parseInt(urlParams.get('ma'));
    const diff = parseInt(urlParams.get('diff'));
    
    // UI μ—…λ°μ΄νΈ
    document.getElementById('shared-physical-age').textContent = physicalAge;
    document.getElementById('shared-mental-age').textContent = mentalAge;
    
    // μ°¨μ΄κ°’μ— λ”°λ¥Έ λ©”μ‹μ§€ ν‘μ‹
    const message = getMessageForDiff(diff);
    document.getElementById('shared-message-text').textContent = message;
    
    // κ³µμ  μ„Ήμ… ν‘μ‹
    this.showSection('shared');
}
```

#### `css/style.css`
**κ³µμ  μΉ΄λ“ μ¤νƒ€μΌ**
```css
.shared-card {
    background: var(--bg-card);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(102, 126, 234, 0.3);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
}

.shared-message {
    background: rgba(102, 126, 234, 0.1);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-top: var(--spacing-lg);
}
```

### 3. μ‚¬μ©μ ν”λ΅μ°

#### κ³µμ μ (κ²°κ³Ό κ³µμ ν•λ” μ‚¬λ)
```
1. ν…μ¤νΈ μ™„λ£
2. κ²°κ³Ό νμ΄μ§€μ—μ„ "μΉ΄μΉ΄μ¤ν†΅" λ²„νΌ ν΄λ¦­
3. μΉ΄μΉ΄μ¤ν†΅ κ³µμ  μΉ΄λ“ μƒμ„±
   - μ λ©: "π― λ§μμ λ‚μ΄ κ³„μ‚°κΈ°"
   - λ‚΄μ©: "λ‚μ μ‹¤λ¬Ό λ‚μ΄λ” XXμ„Έ, λ§μμ λ‚μ΄λ” YYμ„Έ!"
   - λ²„νΌ 1: "κ²°κ³Ό λ³΄κΈ° π‘€"
   - λ²„νΌ 2: "λ‚λ„ ν…μ¤νΈν•κΈ° π"
4. μΉκµ¬μ—κ² κ³µμ 
```

#### κ³µμ λ°›μ€ μ‚¬λ
```
1. μΉ΄μΉ΄μ¤ν†΅ λ©”μ‹μ§€ μμ‹ 
2. λ‘ κ°€μ§€ μ„ νƒ:
   
   [μµμ… A] "κ²°κ³Ό λ³΄κΈ° π‘€" ν΄λ¦­
   β†’ URL: https://example.com/?shared=true&pa=28&ma=25&diff=-3
   β†’ μΉκµ¬μ κ²°κ³Όλ¥Ό μΉ΄λ“ ν•νƒλ΅ ν™•μΈ
   β†’ "λ‚λ„ ν…μ¤νΈν•κΈ°" λ²„νΌμΌλ΅ μμ‹ μ ν…μ¤νΈ μ‹μ‘
   
   [μµμ… B] "λ‚λ„ ν…μ¤νΈν•κΈ° π" ν΄λ¦­
   β†’ URL: https://example.com/
   β†’ λ°”λ΅ ν…μ¤νΈ μ‹μ‘ ν™”λ©΄μΌλ΅ μ΄λ™
```

### 4. κ³µμ  κ²°κ³Ό ν™”λ©΄ κµ¬μ„±

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ μΉκµ¬μ ν…μ¤νΈ κ²°κ³Ό π“     β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                         β”‚
β”‚   β­• μ‹¤λ¬Ό λ‚μ΄           β”‚
β”‚      28μ„Έ               β”‚
β”‚                         β”‚
β”‚      VS β”οΈ              β”‚
β”‚                         β”‚
β”‚   β­• λ§μμ λ‚μ΄         β”‚
β”‚      25μ„Έ               β”‚
β”‚                         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚      -3μ„Έ                β”‚
β”‚   (3μ‚΄ λ” μ μ!)         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  μΉκµ¬λ” μƒκΈ°λ°λ„!        β”‚
β”‚  λ°κ³  κΈμ •μ μΈ           β”‚
β”‚  μ—λ„μ§€λ¥Ό κ°€μ§€κ³  μμ–΄μ”!  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  [λ‚λ„ ν…μ¤νΈν•κΈ° π]    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## URL νλΌλ―Έν„° κµ¬μ΅° π“

### νλΌλ―Έν„° μ„¤λ…
- `shared=true`: κ³µμ  λ§ν¬μ„μ„ λ‚νƒ€λƒ„
- `pa=μ«μ`: Physical Age (μ‹¤λ¬Ό λ‚μ΄)
- `ma=μ«μ`: Mental Age (λ§μμ λ‚μ΄)
- `diff=μ«μ`: μ°¨μ΄κ°’ (ma - pa)

### μμ‹
```
https://example.com/?shared=true&pa=28&ma=25&diff=-3

ν•΄μ„:
- μ‹¤λ¬Ό λ‚μ΄: 28μ„Έ
- λ§μμ λ‚μ΄: 25μ„Έ
- μ°¨μ΄: -3μ„Έ (3μ‚΄ λ” μ μ)
```

## κ²°κ³Ό λ©”μ‹μ§€ λ§¤ν•‘ π―

μ°¨μ΄κ°’μ— λ”°λΌ λ‹¤λ¥Έ λ©”μ‹μ§€ ν‘μ‹:

| μ°¨μ΄κ°’ (diff) | λ©”μ‹μ§€ |
|--------------|--------|
| < -15 | μΉκµ¬λ” μ™„μ „ μ–΄λ¦°μ™•μ/κ³µμ£Όλ„¤μ”! μμ›ν• 10λ€ κ°μ„±! π |
| < -10 | μΉκµ¬λ” λ°λ„ν• μ²­μ¶! μ μμ΄ λ„μ³νλ¬μ”! β¨ |
| < -5 | μΉκµ¬λ” μƒκΈ°λ°λ„! λ°κ³  κΈμ •μ μΈ μ—λ„μ§€μμ”! |
| < -2 | μΉκµ¬λ” λ§μλ§μ€ μ†λ…€/μ†λ…„! κ·€μ—¬μ΄ μνΌμ΄μ—μ”! |
| <= 2 | μΉκµ¬λ” μ™„λ²½ν• λ°Έλ°μ¤! λ‚μ΄λ¥Ό μ λ¨Ήκ³  μμ–΄μ”! |
| <= 5 | μΉκµ¬λ” μ•μ •μ μΈ μ–΄λ¥Έ! μ„±μ™ν• λ§¤λ ¥μ΄ μμ–΄μ”! |
| <= 10 | μΉκµ¬λ” λ…Έλ ¨ν• ν„μ! κΉμ΄ μλ” μνΌμ΄μ—μ”! |
| <= 15 | μΉκµ¬λ” μΈμƒμ κ³ μ! ν’λ¶€ν• κ²½ν—μ„ κ°€μ§€κ³  μμ–΄μ”! |
| > 15 | μΉκµ¬λ” μ‚΄μ•„μλ” μ§€ν! μΈμƒμ λ©ν† μμ”! |

## λ³΄μ• λ° κ²€μ¦ π”’

1. **νλΌλ―Έν„° κ²€μ¦**
   ```javascript
   if (isNaN(physicalAge) || isNaN(mentalAge)) {
       // μλ»λ νλΌλ―Έν„°λ©΄ μ‹μ‘ ν™”λ©΄μΌλ΅
       this.showSection('start');
       return;
   }
   ```

2. **λ°μ΄ν„° νƒ€μ… λ³€ν™**
   ```javascript
   const physicalAge = parseInt(urlParams.get('pa'));
   const mentalAge = parseInt(urlParams.get('ma'));
   ```

3. **μ•μ „ν• ν…μ¤νΈ ν‘μ‹**
   - μ‚¬μ©μ μ…λ ¥μ΄ μ•„λ‹ κ³„μ‚°λ κ°’λ§ μ‚¬μ©
   - XSS κ³µκ²© λ°©μ§€

## ν…μ¤νΈ λ°©λ²• π§

### 1. λ΅μ»¬ ν…μ¤νΈ
```bash
# μ„λ²„ μ‹¤ν–‰
python -m http.server 8000

# λΈλΌμ°μ €μ—μ„ URL μ§μ ‘ μ…λ ¥
http://localhost:8000/?shared=true&pa=30&ma=25&diff=-5
```

### 2. μΉ΄μΉ΄μ¤ν†΅ κ³µμ  ν…μ¤νΈ
1. λ΅μ»¬ μ„λ²„ λλ” λ°°ν¬λ μ‚¬μ΄νΈμ—μ„ ν…μ¤νΈ μ™„λ£
2. κ²°κ³Ό νμ΄μ§€μ—μ„ μΉ΄μΉ΄μ¤ν†΅ κ³µμ 
3. κ³µμ  λ©”μ‹μ§€ ν™•μΈ
4. "κ²°κ³Ό λ³΄κΈ°" λ²„νΌ ν΄λ¦­ν•μ—¬ κ³µμ  ν™”λ©΄ ν™•μΈ

### 3. μ²΄ν¬λ¦¬μ¤νΈ
- [ ] κ³µμ  λ§ν¬μ— νλΌλ―Έν„°κ°€ ν¬ν•¨λλ”μ§€ ν™•μΈ
- [ ] κ³µμ λ κ²°κ³Όκ°€ μ¬λ°”λ¥΄κ² ν‘μ‹λλ”μ§€ ν™•μΈ
- [ ] "λ‚λ„ ν…μ¤νΈν•κΈ°" λ²„νΌμ΄ μ‘λ™ν•λ”μ§€ ν™•μΈ
- [ ] μλ»λ νλΌλ―Έν„° μ²λ¦¬ ν™•μΈ
- [ ] λ¨λ°”μΌμ—μ„ μ •μƒ λ™μ‘ ν™•μΈ

## κ°μ„  ν¨κ³Ό π“

### Before (κ°μ„  μ „)
- π”΄ κ³µμ λ°›μ€ μ‚¬λμ΄ μΉκµ¬μ κ²°κ³Όλ¥Ό λ³Ό μ μ—†μ
- π”΄ λ‹¨μν μ•± λ§ν¬λ§ μ „λ‹¬
- π”΄ κ³µμ μ μλ―Έκ°€ μ—†μ

### After (κ°μ„  ν›„)
- β… μΉκµ¬μ κ²°κ³Όλ¥Ό μΉ΄λ“ ν•νƒλ΅ ν™•μΈ κ°€λ¥
- β… λΉ„κµν•λ” μ¬λ―Έ μ κ³µ
- β… ν…μ¤νΈ μ°Έμ—¬ μ λ„ ν¨κ³Ό μ¦κ°€
- β… λ°”μ΄λ΄ ν¨κ³Ό μ¦λ€
- β… μ‚¬μ©μ κ²½ν— ν–¥μƒ

## ν–¥ν›„ κ°μ„  μ‚¬ν•­ π’΅

1. **μ΄λ―Έμ§€ κ³µμ **: κ²°κ³Όλ¥Ό μ΄λ―Έμ§€λ΅ μƒμ„±ν•μ—¬ κ³µμ 
2. **μμ„ λ³΄κΈ°**: μΉκµ¬λ“¤κ³Ό κ²°κ³Ό λΉ„κµ
3. **ν†µκ³„**: μ—°λ Ήλ€λ³„ ν‰κ·  λΉ„κµ
4. **μ†μ… κΈ°λ¥**: λ“κΈ€, μΆ‹μ•„μ” λ“±
